<html>
<head>
	<meta charset = "utf-8">
	<title>Chat room</title>
	<script src="/socket.io/socket.io.js"></script>
	<script>

		var socket = io.connect('/');
		socket.on('connect', function()
		{
			socket.emit('addUser', prompt('who are you?', 'annoymous'));
		});

		socket.on('chat', function(username, data)
		{
			var p = username + ':' + data + '<br />';
			document.getElementById('output').innerHTML += p;
		});

		window.addEventListener('load', function()
		{
			document.getElementById('sendtext').addEventListener('click', function()
			{
				var text = document.getElementById('data').value;
				socket.emit('sendChat', text);
			}, false);
		}, false);

	</script>
</head>
<body>
	<div id="container">
		<header>Lee's 聊天室</header>
		<div class="content">
			<aside id="userlist"></aside>
			<section>
				<section id="output"></section>
				<section id="send">
					<input type="text" id="data" size="100"/><br />
					<input type="button" id="sendtext" value="Send Text" />
				</section>
			</section>
		</div>
		
	</div>
	
</body>
</html>